schema: '2.0'
stages:
  process_data:
    cmd: python src/preprocessing/preprocessing_data.py
    deps:
    - path: data/test.tsv
      md5: f06925444bd9e4b12b382e0e267345a7
      size: 1061380
    - path: data/train.tsv
      md5: 2502592a16c44c1e33cb827b2a647406
      size: 7296139
    - path: data/validation.tsv
      md5: 508e1de849c33ba2f38f0b118590a4cd
      size: 2196271
    - path: src/preprocessing/preprocessing_data.py
      md5: ceae9f5c0b0193f88be689dc2f7c2cca
      size: 2208
    outs:
    - path: output/text_processing_test.joblib
      md5: fcf8b19d3e327f1986d0d1ea2f1f9216
      size: 864828
    - path: output/text_processing_train.joblib
      md5: ad34f31af739006066643d8707590a56
      size: 8097432
    - path: output/text_processing_val.joblib
      md5: c9537187edede743ccb743da95e37d7e
      size: 2437396
  transform_mybag:
    cmd: python src/transformation/transformer_mybag.py
    deps:
    - path: output/text_processing_train.joblib
      md5: ad34f31af739006066643d8707590a56
      size: 8097432
    - path: output/text_processing_val.joblib
      md5: c9537187edede743ccb743da95e37d7e
      size: 2437396
    - path: src/transformation/transformer_mybag.py
      md5: d7403c20e1d8d642f0fd3006e9b5e282
      size: 4098
    outs:
    - path: output/mybag_tags_counts.joblib
      md5: 21aab886c6d07d562f632c77a4b6fd52
      size: 1297
    - path: output/mybag_words_counts_val.joblib
      md5: aeda02c33039b1d40325848b3521dcb8
      size: 494710
    - path: output/transform_mybag_train.joblib
      md5: 99fee9abfe5fd41d6c20531a0263da34
      size: 10332999
    - path: output/transform_mybag_val.joblib
      md5: e21a3018bd98c829ceac9686f1f7da78
      size: 3100065
  transform_tfidf:
    cmd: python src/transformation/transformer_tfidf.py
    deps:
    - path: output/text_processing_train.joblib
      md5: ad34f31af739006066643d8707590a56
      size: 8097432
    - path: output/text_processing_val.joblib
      md5: c9537187edede743ccb743da95e37d7e
      size: 2437396
    - path: src/transformation/transformer_tfidf.py
      md5: 51d8356d6fa61b2649cc8bdef284a955
      size: 2823
    outs:
    - path: output/tfidf_tags_counts.joblib
      md5: 21aab886c6d07d562f632c77a4b6fd52
      size: 1297
    - path: output/tfidf_tags_counts_val.joblib
      md5: 776798b64e3395fde04185affefad8c4
      size: 1237
    - path: output/transform_tfidf_train.joblib
      md5: 89f955bd8a576a08f020701fcef16431
      size: 12255795
    - path: output/transform_tfidf_val.joblib
      md5: 6fcaf19b8c2275835bbc6c13241e5368
      size: 3622569
  train:
    cmd: python src/classification/train.py
    deps:
    - path: output/mybag_tags_counts.joblib
      md5: 21aab886c6d07d562f632c77a4b6fd52
      size: 1297
    - path: output/tfidf_tags_counts.joblib
      md5: 21aab886c6d07d562f632c77a4b6fd52
      size: 1297
    - path: output/transform_mybag_train.joblib
      md5: 99fee9abfe5fd41d6c20531a0263da34
      size: 10332999
    - path: output/transform_tfidf_train.joblib
      md5: 89f955bd8a576a08f020701fcef16431
      size: 12255795
    - path: src/classification/train.py
      md5: a2e398965c02bd9f8f51a9f547e69b73
      size: 1608
    outs:
    - path: output/mlb_mybag_dvc.joblib
      md5: fe5c9a09e5441e81fd81da984584844e
      size: 3299
    - path: output/mlb_tfidf_dvc.joblib
      md5: fe5c9a09e5441e81fd81da984584844e
      size: 3299
    - path: output/model_mybag_dvc.joblib
      md5: 974e5cbe0b31ee4ad4e6350b8a968ac1
      size: 4030335
    - path: output/model_tfidf_dvc.joblib
      md5: 639baf9bec50cd39027428dde220a543
      size: 14670335
  evaluate_mybag:
    cmd: python src/evaluation/evaluate_mybag.py
    deps:
    - path: output/mlb_mybag_dvc.joblib
      md5: fe5c9a09e5441e81fd81da984584844e
      size: 3299
    - path: output/model_mybag_dvc.joblib
      md5: 974e5cbe0b31ee4ad4e6350b8a968ac1
      size: 4030335
    - path: output/transform_mybag_val.joblib
      md5: e21a3018bd98c829ceac9686f1f7da78
      size: 3100065
    - path: src/evaluation/evaluate_mybag.py
      md5: 8a9802219c560428f676820348819589
      size: 2788
    outs:
    - path: output/y_val_predicted_scores_labels_mybag.joblib
      md5: f92420e529e8cacf11a37e56945f9ba7
      size: 24000186
    - path: output/y_val_predicted_scores_mybag.joblib
      md5: 16b8ea589acc70d593133a14476c7596
      size: 24000186
  evaluate_tfidf:
    cmd: python src/evaluation/evaluate_tfidf.py
    deps:
    - path: output/mlb_tfidf_dvc.joblib
      md5: fe5c9a09e5441e81fd81da984584844e
      size: 3299
    - path: output/model_tfidf_dvc.joblib
      md5: 639baf9bec50cd39027428dde220a543
      size: 14670335
    - path: output/transform_tfidf_val.joblib
      md5: 6fcaf19b8c2275835bbc6c13241e5368
      size: 3622569
    - path: src/evaluation/evaluate_tfidf.py
      md5: 0115193fcf2a7d0f9d549062a6d19237
      size: 2847
    outs:
    - path: output/y_val_predicted_labels_tfidf.joblib
      md5: ea9526e196d6437f58a6156321581e38
      size: 24000186
    - path: output/y_val_predicted_scores_tfidf.joblib
      md5: 417878f1236e08b73f99579d4217a0d2
      size: 24000186
